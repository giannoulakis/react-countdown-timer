(this["webpackJsonpreact-countdown-timer"]=this["webpackJsonpreact-countdown-timer"]||[]).push([[0],{10:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),i=t(3),a=t.n(i),r=(t(9),t(1));function s(){return Object(o.useEffect)((function(){var e;return"keepAwake"in window.screen?window.screen.keepAwake=!0:"wakeLock"in navigator&&navigator.wakeLock.request("screen").then((function(n){e=n})),function(){window.screen.keepAwake&&(window.screen.keepAwake=!1),e&&e.release()}}),[]),null}function u(e){var n=Object(o.useState)((new Date).getTime()+60*e.minutes*1e3),t=Object(r.a)(n,1)[0],i=Object(o.useState)(p()),a=Object(r.a)(i,2),u=a[0],l=a[1],f=Object(o.useState)(0),d=Object(r.a)(f,2),w=d[0],m=d[1],v=Object(o.useState)("00:00"),h=Object(r.a)(v,2),g=h[0],b=h[1];function k(){l(p())}function p(){return 1e3*Math.ceil((t-(new Date).getTime())/1e3)}return Object(o.useEffect)((function(){if(!(u<=0)){m(100-Math.floor(u/(60*e.minutes*1e3)*100)),b(Math.floor(u/1e3/60)+":"+("0"+u/1e3%60).substr(-2,2));var n=setTimeout(k,1e3);return function(){return clearTimeout(n)}}e.onFinish&&e.onFinish()}),[u,t]),Object(o.useEffect)((function(){e.onUpdate&&e.onUpdate(g)}),[g]),c.a.createElement("div",null,c.a.createElement(s,null),c.a.createElement("div",{className:"progress",style:{width:w+"%"}}),c.a.createElement("div",{className:"clock"},g))}function l(e){document.title=e}var f=function(){var e=Object(o.useRef)(null),n=Object(o.useState)(!1),t=Object(r.a)(n,2),i=t[0],a=t[1],s=Object(o.useState)(25),f=Object(r.a)(s,2),d=f[0],w=f[1];function m(){localStorage.setItem("minutes",d),a(!0)}function v(){a(!1),l("Finished")}function h(e){return 27===e.keyCode&&v()}return Object(o.useEffect)((function(){var e=window.location.hash.match(/#(\d+)/);if(e)w(e[1]),a(!0);else{var n=localStorage.getItem("minutes");n&&w(n)}return document.addEventListener("keydown",h),function(){return document.removeEventListener("keydown",h)}}),[]),Object(o.useEffect)((function(){i||e.current.focus()}),[i]),c.a.createElement("main",null,i?c.a.createElement("div",{onClick:v,title:"click to stop",className:"hand"},c.a.createElement(u,{minutes:d,onUpdate:l,onFinish:v})):c.a.createElement("div",{className:"config"},c.a.createElement("input",{ref:e,onKeyDown:function(e){13===e.keyCode&&m()},type:"number",min:"1",max:"60",value:d,onChange:function(e){return w(e.target.value)}}),c.a.createElement("button",{onClick:m},"Start")))},d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(c.a.createElement(f,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-countdown-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/react-countdown-timer","/service-worker.js");d?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):w(n,e)}))}}()},4:function(e,n,t){e.exports=t(10)},9:function(e,n,t){}},[[4,1,2]]]);
//# sourceMappingURL=main.8c3a277d.chunk.js.map